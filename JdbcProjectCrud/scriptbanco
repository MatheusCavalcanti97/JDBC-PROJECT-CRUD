-- CRIAR O DATABASE NO POSTGRESQL COM O NOME NESTE FORMATO (EM MAIÃšSCULO): "JDBCPROJECTCRUD".

DROP TABLE IF EXISTS CLIENTE;
DROP TABLE IF EXISTS FUNCIONARIO;

CREATE TABLE CLIENTE(

	IDPESSOA SERIAL,
	NOMEPESSOA VARCHAR(20) NOT NULL,
	SOBRENOMEPESSOA VARCHAR(40)NOT NULL,
	CPFPESSOA VARCHAR(11),
	EMAIL VARCHAR(30)NOT NULL,
	CIDADEENDERECO VARCHAR(30) NOT NULL,
	ESTADOENDERECO VARCHAR(30) NOT NULL,
	DATACADASTRO DATE NOT NULL, 
	
	CONSTRAINT CLIENTE_IDPESSOA_PK PRIMARY KEY (IDPESSOA),
	CONSTRAINT CLIENTE_CPFPESSOA_PK_UN UNIQUE (CPFPESSOA)
);

CREATE TABLE FUNCIONARIO(

	IDFUNCIONARIO SERIAL, 
	NOMEPESSOA VARCHAR(20) NOT NULL,
	SOBRENOMEPESSOA VARCHAR(40)NOT NULL,
	CPFPESSOA VARCHAR(11),
	EMAIL VARCHAR(30)NOT NULL,
	CIDADEENDERECO VARCHAR(30) NOT NULL,
	ESTADOENDERECO VARCHAR(30) NOT NULL,
	NUMEROMATRICULA VARCHAR(10) NOT NULL,
	SALARIO DOUBLE PRECISION NOT NULL,
	COMISSAO DOUBLE PRECISION NOT NULL,
	CARGO VARCHAR(20) NULL,
	DATADECONTRATACAO DATE NOT NULL,
	
	CONSTRAINT FUNCIONARIO_IDFUNCIOANRIO_PK PRIMARY KEY (IDFUNCIONARIO),
	CONSTRAINT FUNCIONARIO_MATRICULAFUNC_UN UNIQUE (NUMEROMATRICULA),
	CONSTRAINT FUNCIONARIO_SALARIO_CK CHECK (SALARIO >= 1320),
	CONSTRAINT FUNCIONARIO_COMISSAO_CK CHECK (COMISSAO >= 0)
);